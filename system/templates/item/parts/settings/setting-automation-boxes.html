<div class="fatex__automation fatex__setting fatex__setting--min-height">
    <h2 class="fatex__headline fatex__setting__headline">
        <span>{{localize headline}}</span>

        <div class="fatex__headline__actions fatex__setting__actions">
            <span class="fatex__item__add fatex__skill__reference__create--boxes">{{localize "FAx.Item.Automation.AddSkillRef"}}</span>
        </div>
    </h2>

    {{#each boxReferences as |reference|}}
        <div class="fatex__skill__reference" data-index="{{reference.index}}">
            <div class="fatex__skill__reference__condition">
                <select
                        class="fatex__skill__reference__change fatex__skill__reference__change--argument"
                        data-index="{{reference.index}}"
                        data-field="argument"
                        data-dtype="Number"
                >
                    {{#each ../availableBoxCount as |boxCount|}}
                        <option value="{{boxCount.value}}"{{#ifEquals reference.argument boxCount.value}} selected="selected"{{/ifEquals}}>
                            {{boxCount.label}}
                        </option>
                    {{/each}}
                </select>

                <span>{{localize "FAx.Item.Automation.BoxesIf"}}</span>

                <select
                    class="fatex__skill__reference__change fatex__skill__reference__change--skill"
                    data-index="{{reference.index}}"
                    data-field="skill"
                >
                    <option value=""{{#ifEquals reference.skill ''}} selected="selected"{{/ifEquals}}> -</option>

                    {{#each ../availableSkills as |skill skillIndex|}}
                        <option value="{{skill}}"{{#ifEquals reference.skill skill}} selected="selected"{{/ifEquals}}>
                            {{skill}}
                        </option>
                    {{/each}}
                </select>

                <select
                    class="fatex__skill__reference__change fatex__skill__reference__change--operator"
                    data-index="{{reference.index}}"
                    data-field="operator"
                    data-dtype="Number"
                >
                    {{#each ../availableOperators as |operator|}}
                        <option value="{{operator.value}}"{{#ifEquals reference.operator operator.value}} selected="selected"{{/ifEquals}}>
                            {{operator.label}}
                        </option>
                    {{/each}}
                </select>

                <select
                    class="fatex__skill__reference__change fatex__skill__reference__change--condition"
                    data-index="{{reference.index}}"
                    data-field="condition"
                    data-dtype="Number"
                >
                    {{#each ../availableSkillLevels as |skillLevel|}}
                        <option value="{{skillLevel.value}}"{{#ifEquals reference.condition skillLevel.value}} selected="selected"{{/ifEquals}}>
                            {{skillLevel.label}}
                        </option>
                    {{/each}}
                </select>
            </div>

            <div class="fatex__skill__reference__actions">
                <div class="fatex__item__delete fatex__skill__reference__remove" data-index="{{reference.index}}"></div>
            </div>
        </div>
    {{else}}
        <div class="fatex__skill__reference__description">
            {{localize "FAx.Item.Automation.Description"}}
        </div>
    {{/each}}
</div>
